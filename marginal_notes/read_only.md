# К вопросу о неизменности.
*Андрей Гончаров*  
*дн dd месяц YYYY завершения написания*    

*Лишь в неизменном — бесконечность,*  
*Лишь в постоянном глубина.*  
*И дальше путь, и ближе вечность,*  
*И всё ясней: любовь одна.*  

*Зинаида Гиппиус*


##### Аннотация
В статье рассматривается концепция неизменности состояния. На примере языка программирования C#, показаны способы выражения и достижения неизменности посредствам различных языковых конструкций. Для каждой языковой конструкции C# рассматривается ее результат, в смысле достижения неизменности состояния, и смысловая нагрузка, с точки зрения коммуникотивной функции языка. Предлагается способ обозначения неизменности состояния через выделения из интерфейса класса подможества "только для чтения".    

#### Введение
Для задания контекста дальнейшему изложению, начну с нескольких слов о языках программирования как таковых.  

Любой язык программирования, это прежде всего **язык**. В лингвистике определяют несколько функций языка[<sup>1</sup>](#1), главная из которых, с точки зрения языков программирования, коммуникативная. Но, в отличие от естественных языков, где в большенстве случаев субъекты коммуникации являются сущности одной природы, в случае языков программирования, субъекты могут быть двух типов. К первому типу относится человек, т.е. при использовании языка программирования коммуникация происходит между программистами. Возможно даже что коммуникация происходит между одним и тем же программистом, но в различные моменты времени. Ко второму типу субъектов относится машина, т.е. коммуникация происходит между программистом и машиной. Термин "машина" здесь используется в широком смысле, это может быть как  "железо", так и компиляторы и интерпритаторы.  
Как между программистом и машиной существует принципиальное различие, так и ограничания и свойства языка определяемые этими двумя типами субъектов существенно отличаются. Машина выполняет только то, что написано в программе. Коммуникация человек-машина, накладывает на язык ограничение в виде "формализма", т.е. определения конечного набора ключевых слов и правил построения языковых конструкций. Код должен быть корректным с точки зрения формализма, больше, со стороны машины, не предъявляется ни каких требований к исходному коду.  Но при всей формальности языка программирования, существует довольно много способов записать на нем корректный код.  
Код программы это текст. Текст - это зафиксированная мысль. В отличие от машины, которая игнорирует способ *написания* кода, человек получает дополнительную информацию, дополнительный контекст из того, как код *записан*. Эта дополнительная информация влияет на интерпритацию кода  программистом. Таким образом, выбор способа написания корректного кода, из множества возможных вариантов, делается, по крайней мере должен делаться, исходя из идеи коммуникации человек-человек. Код должен быть понятен, а мысль в нем заключенная, должна иметь минимальное количество возможных интерпритаций читателем. В результате возникает ограничение, правда не на язык, но на способ его использования, в виде стандарта кодирования.   

Так как машина выполняет только то что написано в программе, а программист может интерпритировать код различным образом, то логично, что языки программирования могут содеражть конструкции обеспечивающие концепции, которые, фактически, защищают программу от неверной интерпритации, и, как следствие, неверного использования кода другим программистом. К таким концепциям можно отнести, например, квалификаторы доступа и уровни видимости. К ним же относится и концепцию неизменяемости состояния.

#### 1. Незименяемость состояния.
[//]:(#Что это. Переменная и константа, почему константа это сложнее чем переменная. Множественое понимание неизменности. Существование языков без переменных и без констант. Проблемы отсутствия постоянности. Выражение неизменяемости в языке, для машины, для программиста. Формализм и конвенция. Плюсы и минусы незименности.)

#### 2. Языковые конструкции C# для выражения постоянства.
[//]:(#
литералы
const
readonly static/nonstatic
struct
readonly struct
ref readonly - оптимизация по памяти, для структур, при возврате.
in param - оптимизация по памяти, для структур, при передаче параметра.
Array и ошибки с ним
IReadOnlyCollection<T>
Шаблон ValueObject)


#### 3. Метод выделения ReadOnly подможества в API класс
[//]:(#
const в объевлении методов в С++, 
const в объявлении переменных,
конструкция const T& - как оптимизация по памяти, с выражением неизменности.)

#### Заключение
[//:](#О важности и значимости конструкция указывающих на постоянство.)

##### Список литературы
<a class='anchor' id='1'>1</a>. Мартине А. Основы обшей лингвистики \[в:\] Новое в лингвистике. – М., 1963  
